<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Team Portfolio | Creative Professionals</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  
  <body class="min-h-screen">
    <!-- Navigation -->
    <header class="sticky top-0 z-50 bg-white shadow-sm">
      <div class="container mx-auto px-4 py-4">
        <div class="flex justify-between items-center">
          <div class="flex items-center">
            <span class="text-2xl font-bold text-indigo-600"
              >Group 1</span
            >
          </div>
          <nav class="hidden md:flex space-x-8">
            <a href="#" class="nav-link text-gray-700 hover:text-indigo-600"
              >Home</a
            >
            <a
              href="#projects"
              class="nav-link text-gray-700 hover:text-indigo-600"
              >Projects</a
            >
            <a
              href="#activity"
              class="nav-link text-gray-700 hover:text-indigo-600"
              >Activity</a
            >
          </nav>
          <button class="md:hidden text-gray-700">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="h-6 w-6"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              />
            </svg>
          </button>
        </div>
      </div>
    </header>

    <!-- Hero Section -->
    <section class="gradient-bg py-20">
      <div class="container mx-auto px-4">
        <div class="flex flex-col md:flex-row items-center">
          <div class="md:w-1/2 mb-10 md:mb-0">
            <h1 class="text-4xl md:text-5xl font-bold mb-6 text-gray-900">
              Meet Our <span class="text-indigo-600">Creative Team</span>
            </h1>
            <p class="text-lg text-gray-600 mb-8">
              We're a collective of passionate professionals specializing in
              design, development, and digital strategy. Together, we create
              impactful solutions.
            </p>
            <div class="flex space-x-4">
              <a
                href="#team"
                class="bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-3 rounded-lg font-medium transition duration-300"
                >Meet the Team</a
              >
            </div>
          </div>
          <div class="md:w-1/2 flex justify-center">
            <div
              class="netflix-card bg-gray-900 rounded-xl shadow-2xl overflow-hidden relative"
            >
              <div id="portfolio-carousel" class="w-full h-full relative">
                <div
                  id="carousel-inner"
                  class="flex h-full transition-transform duration-500 ease-in-out"
                >
                  <!-- Carousel items will be dynamically loaded here -->
                </div>
                <button id="prevBtn" class="carousel-nav-btn left-4">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-8 w-8"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M15 19l-7-7 7-7"
                    />
                  </svg>
                </button>
                <button id="nextBtn" class="carousel-nav-btn right-4">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-8 w-8"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M9 5l7 7-7 7"
                    />
                  </svg>
                </button>
              </div>
              <div class="p-6 text-white text-center">
                <h3 id="portfolio-title" class="text-2xl font-bold mb-2"></h3>
                <p
                  id="portfolio-description"
                  class="text-gray-400 text-sm mb-4"
                ></p>
                <a
                  id="viewPortfolioLink"
                  href="#"
                  target="_blank"
                  class="bg-indigo-600 hover:bg-indigo-700 text-white px-8 py-3 rounded-lg font-medium transition duration-300 inline-block"
                >
                  View Portfolio
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Team Section -->
    <section id="team" class="py-20 bg-white">
      <div class="container mx-auto px-4">
        <div class="text-center mb-16">
          <h2 class="text-3xl font-bold text-gray-900 mb-4">
            Our <span class="text-indigo-600">Core</span> Team
          </h2>
          <p class="text-lg text-gray-600 max-w-2xl mx-auto">
            Each member brings unique skills and perspectives that complement
            each other perfectly.
          </p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
          <!-- Team Member 1 -->
          <div
            class="team-card bg-white rounded-xl overflow-hidden shadow-md transition duration-300"
          >
            <div class="relative">
              <img
                src="components\lj.jpg"
                alt="Loisse Joy Parot's image"
                class="w-full h-64 object-cover"
              />
              <div
                class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-4"
              >
                <h3 class="text-white text-xl font-semibold">
                  Loisse Joy Parot
                </h3>
                <p class="text-indigo-200">
                  Full Stack Developer & Documentation
                </p>
              </div>
            </div>
            <div class="p-6">
              <div class="flex items-center justify-between mt-4">
                <a
                  href="https://lpjei.github.io/eljei/?fbclid=IwY2xjawLPZRBleHRuA2FlbQIxMABicmlkETFFdTg5akZ5UE1zdzF1emNjAR4GqvaMv3Uw2po6DJVgLEXKwyJUDxzr-J-WdCq0-vGnpEpMIu5KgUSpSAoqfQ_aem_lzA1VUY-ohUK4kncE126ag"
                  target="_blank"
                  class="bg-indigo-50 hover:bg-indigo-100 text-indigo-600 font-medium py-2 px-4 rounded-lg transition duration-300"
                >
                  View Portfolio
                </a>
                <a
                  href="https://github.com/lpJei?fbclid=IwY2xjawLPZdZleHRuA2FlbQIxMABicmlkETFFdTg5akZ5UE1zdzF1emNjAR4ZGnaym4MjnW5XFcvNSqrnNGYSARdhOpgq0bH9w56uFnOQUQgj7-L277GrPQ_aem_IDemV7vmJKbWYZQWrvvJDw"
                  target="_blank"
                  class="github-icon p-2 rounded-full bg-gray-100 hover:bg-gray-200 transition duration-300"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <path
                      d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"
                    ></path>
                  </svg>
                </a>
              </div>
              <div id="github-profile-lpJei" class="github-profile w-full">
                <!-- GitHub profile will be loaded here -->
              </div>
              <button
                onclick="openModal('lpJei', 'https://lpjei.github.io/eljei/')"
                class="bg-indigo-50 hover:bg-indigo-100 text-indigo-600 font-medium py-2 px-4 rounded-lg transition duration-300 w-full text-center mt-4"
              >
                View Profile
              </button>
            </div>
          </div>

          <!-- Team Member 2 -->
          <div
            class="team-card bg-white rounded-xl overflow-hidden shadow-md transition duration-300"
          >
            <div class="relative">
              <img
                src="components\arcy.jpg"
                alt="Arcy Lunas' image"
                class="w-full h-64 object-cover"
              />
              <div
                class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-4"
              >
                <h3 class="text-white text-xl font-semibold">Arcy Lunas</h3>
                <p class="text-green-200">Frond-end Developer & UI Designer</p>
              </div>
            </div>
            <div class="p-6">
              <div class="flex items-center justify-between mt-4">
                <a
                  href="https://rclunas.github.io/arcy_lunas.github.io/"
                  target="_blank"
                  class="bg-indigo-50 hover:bg-indigo-100 text-indigo-600 font-medium py-2 px-4 rounded-lg transition duration-300"
                >
                  View Portfolio
                </a>
                <a
                  href="https://github.com/rclunas"
                  target="_blank"
                  class="github-icon p-2 rounded-full bg-gray-100 hover:bg-gray-200 transition duration-300"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <path
                      d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"
                    ></path>
                  </svg>
                </a>
              </div>
              <div id="github-profile-rclunas" class="github-profile w-full">
                <!-- GitHub profile will be loaded here -->
              </div>
              <button
                onclick="openModal('rclunas', 'https://rclunas.github.io/arcy_lunas.github.io/')"
                class="bg-indigo-50 hover:bg-indigo-100 text-indigo-600 font-medium py-2 px-4 rounded-lg transition duration-300 w-full text-center mt-4"
              >
                View Profile
              </button>
            </div>
          </div>

          <!-- Team Member 3 -->
          <div
            class="team-card bg-white rounded-xl overflow-hidden shadow-md transition duration-300"
          >
            <div class="relative">
              <img
                src="components/andrei.jpg"
                alt="John Andrei Balbin's image"
                class="w-full h-64 object-cover"
              />
              <div
                class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-4"
              >
                <h3 class="text-white text-xl font-semibold">
                  John Andrei Balbin
                </h3>
                <p class="text-yellow-200">Documentation</p>
              </div>
            </div>
            <div class="p-6">
              <div class="flex items-center justify-between mt-4">
                <a
                  href="https://andrei-214.github.io/andrei.github.io/"
                  target="_blank"
                  class="bg-indigo-50 hover:bg-indigo-100 text-indigo-600 font-medium py-2 px-4 rounded-lg transition duration-300"
                >
                  View Portfolio
                </a>
                <a
                  href="https://github.com/andrei-214"
                  target="_blank"
                  class="github-icon p-2 rounded-full bg-gray-100 hover:bg-gray-200 transition duration-300"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <path
                      d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"
                    ></path>
                  </svg>
                </a>
              </div>
              <div id="github-profile-andrei-214" class="github-profile w-full">
                <!-- GitHub profile will be loaded here -->
              </div>
              <button
                onclick="openModal('andrei-214', 'https://andrei-214.github.io/andrei.github.io/')"
                class="bg-indigo-50 hover:bg-indigo-100 text-indigo-600 font-medium py-2 px-4 rounded-lg transition duration-300 w-full text-center mt-4"
              >
                View Profile
              </button>
            </div>
          </div>

          <!-- Team Member 4 -->
          <div
            class="team-card bg-white rounded-xl overflow-hidden shadow-md transition duration-300"
          >
            <div class="relative">
              <img
                src="components/sheene.jpg"
                alt="Sheene Joshua Lisondra's image"
                class="w-full h-64 object-cover"
              />
              <div
                class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-4"
              >
                <h3 class="text-white text-xl font-semibold">
                  Sheene Joshua Lisondra
                </h3>
                <p class="text-blue-200">Back-end Developer</p>
              </div>
            </div>
            <div class="p-6">
              <div class="flex items-center justify-between mt-4">
                <a
                  href="https://lisondrasheene11.github.io/sheenelisondra.github.io/"
                  target="_blank"
                  class="bg-indigo-50 hover:bg-indigo-100 text-indigo-600 font-medium py-2 px-4 rounded-lg transition duration-300"
                >
                  View Portfolio
                </a>
                <a
                  href="https://github.com/lisondrasheene11"
                  target="_blank"
                  class="github-icon p-2 rounded-full bg-gray-100 hover:bg-gray-200 transition duration-300"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <path
                      d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"
                    ></path>
                  </svg>
                </a>
              </div>
              <div
                id="github-profile-lisondrasheene11"
                class="github-profile w-full"
              >
                <!-- GitHub profile will be loaded here -->
              </div>
              <button
                onclick="openModal('lisondrasheene11', 'https://lisondrasheene11.github.io/sheenelisondra.github.io/')"
                class="bg-indigo-50 hover:bg-indigo-100 text-indigo-600 font-medium py-2 px-4 rounded-lg transition duration-300 w-full text-center mt-4"
              >
                View Profile
              </button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Projects Section -->
    <section id="projects" class="py-20 bg-gray-50">
      <div class="container mx-auto px-4">
        <div class="text-center mb-16">
          <h2 class="text-3xl font-bold text-gray-900 mb-4">
            Our <span class="text-indigo-600">Projects</span>
          </h2>
          <p class="text-lg text-gray-600 max-w-2xl mx-auto">
            Explore repositories created by our talented team members.
          </p>
        </div>

        <div
          class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"
          id="team-repos"
        >
          <!-- Repositories will be loaded here by JavaScript -->
        </div>
      </div>
    </section>

    <!-- Activity Section -->
    <section id="activity" class="py-20 bg-white">
      <div class="container mx-auto px-4">
        <div class="text-center mb-16">
          <h2 class="text-3xl font-bold text-gray-900 mb-4">
            Recent <span class="text-indigo-600">Activity</span>
          </h2>
          <p class="text-lg text-gray-600 max-w-2xl mx-auto">
            Latest updates from our team members' repositories.
          </p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-8" id="recent-activity">
          <!-- Recent activity will be loaded here by JavaScript -->
        </div>
      </div>
    </section>

    <!-- The Modal -->
    <div id="profileModal" class="modal" style="display: none">
      <!-- Modal content -->
      <div class="modal-content" style="margin: 15% auto; padding: 20px">
        <span class="close-button" onclick="closeModal()">&times;</span>
        <div
          class="modal-body"
          id="modal-body-content"
          style="max-height: 80vh; overflow-y: auto"
        >
          <!-- GitHub profile details and recent repos will be loaded here -->
        </div>
      </div>
    </div>

    <script>
      async function getGitHubProfile(username, elementId) {
        try {
          // Add headers/GitHub token if needed
          const response = await fetch(
            `https://api.github.com/users/${username}`,
            {
              headers: {
                Accept: "application/vnd.github.v3+json",
              },
            }
          );
          if (!response.ok) {
            throw new Error(`GitHub API error: ${response.statusText}`);
          }
          const data = await response.json();

          const profileElement = document.getElementById(elementId);
          if (profileElement) {
            profileElement.innerHTML = `
              <a href="${
                data.html_url
              }" target="_blank" class="flex items-center gap-2 text-gray-700 hover:text-indigo-600">
                <img src="${data.avatar_url}" alt="${
              data.login
            }" class="rounded-full w-12 h-12">
                <div class="info">
                  <span class="font-semibold">${data.name || data.login}</span>
                  <span>Public Repos: ${data.public_repos}</span>
                  <span>Followers: ${data.followers}</span>
                  <span>Following: ${data.following}</span>
                </div>
              </a>
            `;
          }
        } catch (error) {
          console.error(
            `Error fetching GitHub profile for ${username}:`,
            error
          );
          const profileElement = document.getElementById(elementId);
          if (profileElement) {
            profileElement.innerHTML = `<p class="text-red-500 text-sm">Could not load GitHub profile for ${username}. Trying to load repositories...</p>`;
            // Try to fetch repositories anyway
            fetchRepositoriesForMember(username);
          }
        }
      }

      async function openModal(username, portfolioLink = null) {
        const modalBodyContent = document.getElementById("modal-body-content");
        modalBodyContent.innerHTML = "<p>Loading GitHub profile...</p>"; // Loading message

        try {
          const userResponse = await fetch(
            `https://api.github.com/users/${username}`
          );
          if (!userResponse.ok) {
            throw new Error(`GitHub API error: ${userResponse.statusText}`);
          }
          const userData = await userResponse.json();

          const reposResponse = await fetch(
            `https://api.github.com/users/${username}/repos?sort=updated&per_page=5`
          );
          if (!reposResponse.ok) {
            throw new Error(`GitHub API error: ${reposResponse.statusText}`);
          }
          const reposData = await reposResponse.json();

          let reposHtml = "";
          if (reposData.length > 0) {
            reposHtml = `
              <div class="github-repos">
                <h3>Recent Repositories</h3>
                ${reposData
                  .map(
                    (repo) => `
                  <div class="github-repo-item">
                    <h4>${repo.name}</h4>
                    <p>${repo.description || "No description provided."}</p>
                    <p>Language: ${repo.language || "N/A"}</p>
                    <a href="${
                      repo.html_url
                    }" target="_blank" class="bg-indigo-50 hover:bg-indigo-100 text-indigo-600 font-medium py-1 px-3 rounded-lg transition duration-300 inline-block mt-2">
                      View Repository
                    </a>
                  </div>
                `
                  )
                  .join("")}
              </div>
            `;
          } else {
            reposHtml =
              '<p class="text-center text-gray-600 mt-4">No recent public repositories found.</p>';
          }

          let portfolioHtml = "";
          if (portfolioLink) {
            const screenshotApiUrl = `https://image.thum.io/get/width/800/crop/400/${portfolioLink}`;

            portfolioHtml = `
              <div class="portfolio-section">
                <h3>Portfolio</h3>
                <div class="portfolio-preview">
                  <img src="${screenshotApiUrl}" alt="Portfolio Preview of ${portfolioLink}">
                </div>
                <a href="${portfolioLink}" target="_blank" class="bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-3 rounded-lg font-medium transition duration-300">
                  View Portfolio
                </a>
              </div>
            `;
          }

          modalBodyContent.innerHTML = `
            <div class="github-modal-profile">
              <img src="${userData.avatar_url}" alt="${
            userData.login
          }" onerror="this.src='https://via.placeholder.com/150'">
              <h2>${userData.name || userData.login}</h2>
              <p class="username">@${userData.login}</p>
              ${userData.bio ? `<p class="bio">${userData.bio}</p>` : ""}
              
              <div class="github-stats">
                <div>
                  <strong>${userData.public_repos}</strong>
                  <span>Repositories</span>
                </div>
                <div>
                  <strong>${userData.followers}</strong>
                  <span>Followers</span>
                </div>
                <div>
                  <strong>${userData.following}</strong>
                  <span>Following</span>
                </div>
              </div>
              
              <a href="${
                userData.html_url
              }" target="_blank" class="mt-4 inline-block bg-gray-900 hover:bg-gray-700 text-white px-6 py-2 rounded-lg font-medium transition duration-300">
                View GitHub Profile
              </a>
            </div>
            ${reposHtml}
            ${portfolioHtml}
          `;

          const modal = document.getElementById("profileModal");
          modal.style.display = "flex";
          setTimeout(() => {
            modal.classList.add("show");
          }, 10);
        } catch (error) {
          console.error(
            `Error fetching GitHub profile for ${username}:`,
            error
          );
          modalBodyContent.innerHTML = `<p class="text-red-500 text-center">Failed to load GitHub profile for ${username}. Please try again later.</p>`;
          document.getElementById("profileModal").style.display = "flex";
        }
      }

      // Function to close the modal
      function closeModal() {
        const modal = document.getElementById("profileModal");
        modal.classList.remove("show");
        setTimeout(() => {
          modal.style.display = "none";
          document.getElementById("modal-body-content").innerHTML = "";
        }, 300);
      }

      // Close the modal if the user clicks outside of it
      window.onclick = function (event) {
        const modal = document.getElementById("profileModal");
        if (event.target == modal) {
          closeModal();
        }
      };

      // Team members data (for GitHub profiles and activity)
      const teamMembers = [
        { username: "lpJei", name: "Loisse Joy Parot" },
        { username: "rclunas", name: "Arcy Lunas" },
        { username: "andrei-214", name: "John Andrei Balbin" },
        { username: "lisondrasheene11", name: "Sheene Joshua Lisondra" },
      ];

      // Portfolio data for the Netflix-style carousel
      const portfolioData = [
        {
          image:
            "components/team.jpg",
          link: "https://github.com/lpJei/krm-services", // Group 1 project
          title: "Team Collaboration",
          description:
            "A project showcasing collaborative efforts in design and development.",
        },
        {
          image:
            "components/lj.jpg",
          link: "https://lpjei.github.io/eljei/", // Loisse Joy Parot's portfolio
          title: "Loisse Joy Parot's Portfolio",
          description:
            "Explore full-stack development and documentation projects by Loisse Joy.",
        },
        {
          image:
            "components/arcy.jpg",
          link: "https://rclunas.github.io/arcy_lunas.github.io/", // Arcy Lunas's portfolio
          title: "Arcy Lunas's UI/UX Designs",
          description:
            "Discover captivating front-end and UI design projects from Arcy Lunas.",
        },
        {
          image:
            "components/andrei.jpg",
          link: "https://andrei-214.github.io/andrei.github.io/", // John Andrei Balbin's portfolio
          title: "John Andrei Balbin's Documentation",
          description:
            "Detailed documentation and information architecture projects by John Andrei.",
        },
        {
          image:
            "components/sheene.jpg",
          link: "https://lisondrasheene11.github.io/sheenelisondra.github.io/", // Sheene Joshua Lisondra's portfolio
          title: "Sheene Joshua Lisondra's Back-end Work",
          description:
            "Dive into robust back-end development solutions by Sheene Joshua.",
        },
      ];

      let currentSlide = 0;
      const carouselInner = document.getElementById("carousel-inner");
      const prevBtn = document.getElementById("prevBtn");
      const nextBtn = document.getElementById("nextBtn");
      const viewPortfolioLink = document.getElementById("viewPortfolioLink");
      const portfolioTitle = document.getElementById("portfolio-title");
      const portfolioDescription = document.getElementById(
        "portfolio-description"
      );
      let slideInterval;

      // Function to load carousel items
      function loadCarouselItems() {
        carouselInner.innerHTML = portfolioData
          .map(
            (item) => `
              <div class="carousel-item">
                  <img src="${item.image}" alt="${item.title}">
                  <div class="carousel-item-overlay">
                      <h4>${item.title}</h4>
                      <p>${item.description}</p>
                  </div>
              </div>
          `
          )
          .join("");
      }

      // Function to show a specific slide and update details
      function showSlide(index) {
        if (index >= portfolioData.length) {
          currentSlide = 0;
        } else if (index < 0) {
          currentSlide = portfolioData.length - 1;
        } else {
          currentSlide = index;
        }
        carouselInner.style.transform = `translateX(-${currentSlide * 100}%)`;

        // Update the "View Portfolio" link and text details
        viewPortfolioLink.href = portfolioData[currentSlide].link;
        portfolioTitle.textContent = portfolioData[currentSlide].title;
        portfolioDescription.textContent =
          portfolioData[currentSlide].description;
      }

      // Function for automatic sliding
      function startAutoSlide() {
        slideInterval = setInterval(() => {
          showSlide(currentSlide + 1);
        }, 4000); // Change image every 4 seconds for a more relaxed pace
      }

      // Event listeners for navigation buttons
      prevBtn.addEventListener("click", () => {
        clearInterval(slideInterval);
        showSlide(currentSlide - 1);
        startAutoSlide();
      });

      nextBtn.addEventListener("click", () => {
        clearInterval(slideInterval);
        showSlide(currentSlide + 1);
        startAutoSlide();
      });

      // Add this new function
      function setupSmoothScrollingAndActiveNav() {
        const navLinks = document.querySelectorAll(".nav-link");
        const sections = document.querySelectorAll("section[id]"); // Get all sections with an ID

        function highlightNavLink() {
          let current = "";

          sections.forEach((section) => {
            const sectionTop = section.offsetTop;
            const sectionHeight = section.clientHeight;
            // Adjust offset to trigger highlight a bit before the section fully enters view
            if (pageYOffset >= sectionTop - sectionHeight / 3) {
              current = section.getAttribute("id");
            }
          });

          navLinks.forEach((link) => {
            link.classList.remove("text-indigo-600"); // Remove active color
            link.classList.add("text-gray-700"); // Add default color
            if (link.href.includes(current)) {
              link.classList.add("text-indigo-600"); // Add active color
              link.classList.remove("text-gray-700"); // Remove default color
            }
          });
        }

        // Add event listener for scroll
        window.addEventListener("scroll", highlightNavLink);

        // Call it once on load to set initial active link
        highlightNavLink();

        // Smooth scroll for navigation links (already handled by CSS, but this ensures it)
        navLinks.forEach((link) => {
          link.addEventListener("click", function (e) {
            e.preventDefault();
            const targetId = this.getAttribute("href").substring(1);
            const targetSection = document.getElementById(targetId);
            if (targetSection) {
              window.scrollTo({
                top: targetSection.offsetTop,
                behavior: "smooth",
              });
            }
          });
        });
      }

      // Initial load and start auto-slide
      document.addEventListener("DOMContentLoaded", () => {
        loadCarouselItems();
        showSlide(currentSlide);
        startAutoSlide();
        setupSmoothScrollingAndActiveNav(); // Call the new function here
      });

      // Call the function for each team member with their GitHub username
      getGitHubProfile("lpJei", "github-profile-lpJei");
      getGitHubProfile("rclunas", "github-profile-rclunas");
      getGitHubProfile("andrei-214", "github-profile-andrei-214");
      getGitHubProfile("lisondrasheene11", "github-profile-lisondrasheene11");

      // Fetch repositories for a single team member
      async function fetchRepositoriesForMember(username) {
        const profileElement = document.getElementById(
          `github-profile-${username}`
        );
        if (!profileElement) return;

        try {
          const response = await fetch(
            `https://api.github.com/users/${username}/repos?sort=updated`
          );
          if (!response.ok) throw new Error("Failed to fetch repos");
          const repos = await response.json();

          if (repos.length > 0) {
            const reposHtml = repos
              .slice(0, 3)
              .map(
                (repo) => `
              <div class="mt-2 text-sm">
                <a href="${
                  repo.html_url
                }" target="_blank" class="text-indigo-600 hover:underline">
                  ${repo.name}
                </a>
                ${
                  repo.description
                    ? `<p class="text-gray-500">${repo.description}</p>`
                    : ""
                }
              </div>
            `
              )
              .join("");
            profileElement.insertAdjacentHTML("beforeend", reposHtml);
          }
        } catch (error) {
          console.error(`Error fetching repos for ${username}:`, error);
        }
      }

      // Fetch all team repositories
      async function fetchAllRepos() {
        const reposContainer = document.getElementById("team-repos");
        reposContainer.innerHTML =
          '<p class="text-center">Loading repositories...</p>';

        try {
          let allRepos = [];

          // Fetch repos for each team member
          for (const member of teamMembers) {
            const response = await fetch(
              `https://api.github.com/users/${member.username}/repos`
            );
            if (!response.ok) continue;

            const repos = await response.json();
            repos.forEach((repo) => {
              repo.memberName = member.name;
              allRepos.push(repo);
            });
          }

          // Sort by most recently updated
          allRepos.sort(
            (a, b) => new Date(b.updated_at) - new Date(a.updated_at)
          );

          // Display repos
          if (allRepos.length > 0) {
            reposContainer.innerHTML = allRepos
              .map(
                (repo) => `
              <div class="repo-card">
                <div class="repo-content">
                  <h3 class="text-xl font-semibold text-gray-800">${
                    repo.name
                  }</h3>
                  <p class="text-gray-600 mt-2">${
                    repo.description || "No description"
                  }</p>
                  <div class="repo-stats">
                    <span>⭐ ${repo.stargazers_count}</span>
                    <span>📝 ${repo.language || "N/A"}</span>
                    <span>👤 ${repo.memberName}</span>
                  </div>
                  <a href="${repo.html_url}" target="_blank" 
                    class="mt-4 inline-block bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition duration-300">
                    View Repository
                  </a>
                </div>
              </div>
            `
              )
              .join("");
          } else {
            reposContainer.innerHTML =
              '<p class="text-center text-gray-600">No repositories found.</p>';
          }
        } catch (error) {
          console.error("Error fetching repositories:", error);
          reposContainer.innerHTML =
            '<p class="text-center text-red-500">Error loading repositories. Please try again later.</p>';
        }
      }

      // Fetch recent activity (5 most recent repos per member)
      async function fetchRecentActivity() {
        const activityContainer = document.getElementById("recent-activity");
        activityContainer.innerHTML =
          '<p class="text-center">Loading activity...</p>';

        try {
          let allActivity = [];

          // Fetch recent repos for each team member
          for (const member of teamMembers) {
            const response = await fetch(
              `https://api.github.com/users/${member.username}/repos?sort=updated&per_page=5`
            );
            if (!response.ok) continue;

            const repos = await response.json();
            repos.forEach((repo) => {
              repo.memberName = member.name;
              repo.memberAvatar = `https://github.com/${member.username}.png`;
              allActivity.push(repo);
            });
          }

          // Sort by most recently updated
          allActivity.sort(
            (a, b) => new Date(b.updated_at) - new Date(a.updated_at)
          );

          // Display activity
          if (allActivity.length > 0) {
            activityContainer.innerHTML = allActivity
              .map(
                (repo) => `
              <div class="activity-card">
                <div class="activity-header">
                  <img src="${repo.memberAvatar}" alt="${repo.memberName}">
                  <div>
                    <h3 class="font-semibold">${repo.memberName}</h3>
                    <p class="text-indigo-600">${repo.name}</p>
                  </div>
                </div>
                <p class="text-gray-600">${
                  repo.description || "No description"
                }</p>
                <div class="activity-date">
                  Last updated: ${new Date(
                    repo.updated_at
                  ).toLocaleDateString()}
                </div>
                <a href="${repo.html_url}" target="_blank" 
                  class="mt-4 inline-block bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition duration-300">
                  View Repository
                </a>
              </div>
            `
              )
              .join("");
          } else {
            activityContainer.innerHTML =
              '<p class="text-center text-gray-600">No recent activity found.</p>';
          }
        } catch (error) {
          console.error("Error fetching activity:", error);
          activityContainer.innerHTML =
            '<p class="text-center text-red-500">Error loading activity. Please try again later.</p>';
        }
      }

      // Load repositories and activity when page loads
      fetchAllRepos();
      fetchRecentActivity();
    </script>
  </body>
</html>
